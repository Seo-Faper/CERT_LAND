<!DOCTYPE html>
<html>
<head>
   <title>Cert Land</title>
    <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"> <!-- JS -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
    <script  src="http://code.jquery.com/jquery-latest.min.js"></script>
    <script type="text/javascript">
      userdata = window.localStorage;
      var D = false;
      function loginSession(loginData){
        Name = loginData[1];
        Money = loginData[2];
        $("#t *").remove();
        $("#t").append(Name);
        $("#t").append(" : "+Money+" CT");
        $("#t2").remove();
        $("#t3").remove();
        $(".navbar-nav").append("<li class=\"nav-item\"><a href=\"#\" class=\"nav-link\" onclick=\"location.reload();\">로그아웃</a></li>");
        $("#n1").append("정통전대 "+Name+" 식당 보고.");
      }
      function login(){

        id = document.getElementById('userid').value;
        pw = document.getElementById('userpw').value;
        if (id.length*pw.length != 0) data = JSON.parse(userdata.getItem(id))
        if(data[0]==pw){
          alert("환영합니다.\n 로그인 계정 : "+data[1]);
          D = true;
          loginSession(data);
        }else{
          alert("PW가 바르지 않습니다.");
        }
      }
      function register(){

        id = document.getElementById('userid2').value;
        pw = document.getElementById('userpw2').value;
        name = document.getElementById('username').value;
        data = [pw,name,15000]
        if (id.length*pw.length*name.length == 0)
          alert("공백은 입력할 수 없습니다.");
        else {
          userdata.setItem(id,JSON.stringify(data));
                alert("회원 가입 완료");
        }
      }
      function Game1(n){
        var games = ["경마","랜덤 추라이 디펜스","룰렛","군수사에서 살아남기"]
        if(!D){
          alert("로그인 먼저 해 주세요.");
          location.reload();
          return;
        }else{
          document.getElementById("GameTitle").innerHTML = games[n];
           $("#InGame").html("<canvas id=\"canvas_"+n+"\" width=\"300\" height=\"300\"></canvas>");

        }
      }

    </script>
  </head>
  <body> <!-- header -->
    <div class="jumbotron text-center mb-0"> <h1>CERT LAND</h1> <p>군수사 정통전대 문화 센터</p>
     </div> <nav class="navbar navbar-expand-sm navbar-dark bg-dark">
       <a href="#" class="navbar-brand" id = "t">  Cert Land | </a> <!-- Toggle Button -->
       <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar"> <span class="navbar-toggler-icon"></span> </button>
        <div class="collapse navbar-collapse" id="collapsibleNavbar">
          <ul class="navbar-nav">
            <li class="nav-item"><a href="#" class="nav-link">공지사항</a></li>
            <li class="nav-item"><a href="#" data-toggle="modal" data-target="#login" class="nav-link"id = "t2">로그인</a></li>
            <li class="nav-item"><a href="#" data-toggle="modal" data-target="#register" class="nav-link" id = "t3">회원가입</a></li>
            <li class="nav-item"><a href="#" class="nav-link" data-toggle="modal" data-target="#rank">랭킹</a></li>
          </ul>
        </div>
       </nav>
      <!-- content -->
      <div class = "container pt-1">
        <!--랭킹 -->
        <div class="modal fade" id="rank" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable" style="width:100%">
            <div class="modal-content">
              <div class="modal-header">
                <h4 class="modal-title" id="myModalLabel">랭킹</h4>
              </div>
              <div class="modal-body-rank">
                <br>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">닫기</button>
              </div>
            </div>
          </div>
        </div>
        <!--로그인-->
        <div class="modal fade" id="login" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">로그인</h5>
               </div> <div class="modal-body">
                 <div class="input-group mb-3">
                   <div class="input-group-prepend">
                     <span class="input-group-text" id="basic-addon1">ID</span>
                   </div>
                   <input id = "userid" type="text" name="userID" class="form-control"
                     placeholder="Input ID" aria-label="아이디"
                     aria-describedby="basic-addon1" required>
                 </div>
                 <!-- PW입력 -->
                 <div class="input-group mb-3">
                   <div class="input-group-prepend">
                     <span class="input-group-text" id="basic-addon1">PW</span>
                   </div>
                   <input id = "userpw" type="password" name="userID" class="form-control"
                     placeholder="Input Password" aria-label="비밀번호"
                     aria-describedby="basic-addon1" required>
                 </div>
                 <center><button class="btn btn-primary" id="login_btn" type="button" name="button" onclick="login()">로그인</button><center>
               </div>
               <div class="modal-footer">
                </div>
               </div>
              </div>
            </div>
        <!--회원가입-->
        <div class="modal fade" id="register" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">회원가입</h5>
               </div> <div class="modal-body">
                 <div class="input-group mb-3">
                   <div class="input-group-prepend">
                     <span class="input-group-text" id="basic-addon1">이름</span>
                   </div>
                   <input id = "username" type="text" name="userName" class="form-control"
                     placeholder="Input UserName" aria-label="이름"
                     aria-describedby="basic-addon1" required>
                 </div>
                 <div class="input-group mb-3">
                   <div class="input-group-prepend">
                     <span class="input-group-text" id="basic-addon1">ID</span>
                   </div>
                   <input id = "userid2" type="text" name="userID" class="form-control"
                     placeholder="Input ID" aria-label="아이디"
                     aria-describedby="basic-addon1" required>
                 </div>
                 <!-- PW입력 -->
                 <div class="input-group mb-3">
                   <div class="input-group-prepend">
                     <span class="input-group-text" id="basic-addon1">PW</span>
                   </div>
                   <input id = "userpw2" type="password" name="userID" class="form-control"
                     placeholder="Input Password" aria-label="비밀번호"
                     aria-describedby="basic-addon1" required>
                 </div>
                 <center><button class="btn btn-primary" id="login" type="button" name="button" onclick="register()">회원가입</button><center>
               </div>
               <div class="modal-footer">
                </div>
               </div>
              </div>
            </div>
        <div class="modal fade" id="Game" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
              <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-dialog modal-lg">
                <div class="modal-content">
                  <div class="modal-header">
                    <h4 class="modal-title" id="GameTitle"></h4>
                  </div>
                  <div class="modal-body" id = "InGame">

                  </div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                  </div>
                </div>
              </div>
            </div>
      <div class = "main">
        <br>
        <div class="row">
          <div class ="col-6">
            <div class="jumbotron">
              <h1 class="text-center">경마 🐱‍🏍   </h1>
              <p class="text-center">군수사 연병장에서 펼쳐지는 경마 대결!</p>
              <p class="text-center"><a class="btn btn-primary btn-lg" href="#" role="button" data-toggle="modal" data-target="#Game" onclick="Game1(0)">입장</a></p>
            </div>
          </div>
          <div class ="col-6">
            <div class="jumbotron">
              <h1 class="text-center">랜덤 추라이 디펜스 🎂    </h1>
              <p class="text-center" id = n1>* </p>
              <p class="text-center"><a class="btn btn-primary btn-lg" href="#" role="button" data-toggle="modal" data-target="#Game" onclick="Game1(1)">입장</a></p>
            </div>
          </div>
          <div class ="col"></div>
        </div>
        <div class="row">
          <div class ="col-6">
            <div class="jumbotron">
              <h1 class="text-center">룰렛 🎁   </h1>
              <p class="text-center">인생 역전 룰렛</p>
              <p class="text-center"><a class="btn btn-primary btn-lg" href="#" role="button" data-toggle="modal" data-target="#Game" onclick="Game1(2)">입장</a></p>
            </div>
          </div>
          <div class ="col-6">
            <div class="jumbotron">
              <h1 class="text-center">군수사에서 살아남기 ✨  </h1>
              <p class="text-center">수집형 RPG 게임</p>
              <p class="text-center"><a class="btn btn-primary btn-lg" href="#" role="button" data-toggle="modal" data-target="#Game" onclick="Game1(3)">입장</a></p>
            </div>
          </div>
          <div class ="col"></div>
        </div>
        <div class="container">
          <!-- Modal -->
 </div>
      </div>
      </div>
      <!-- footer -->
       <div class="jumbotron text-center mt-5 mb-0">
          <h3 class="text-secondary">CERT LAND</h3>
           <p>CertLand powered by <span class="text-primary">일병 서종찬</span></p>
      </div>
     </body>
    </html>
